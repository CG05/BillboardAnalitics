{% extends 'template.html' %}

{% block title %}Billboard Chart{% endblock %}

{% load static %}

{% block style %}
    <link rel="stylesheet" href="{% static 'css/billboardchart.css' %}"> 
    <style>
        #wrapper {
            width: 100%;
        }
        #top-wrapper {
            margin-top: 150px;
            width: 100%;
        }
        #top-label {
            font-size: 50px;
            font-weight: bolder;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 40px;
        }
        #date-container {
            width: 100%;
            margin: 30px 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #date-label {
            font-size: 20px;
            font-weight: bold;
            margin-right: 20px;
        }

        #date-icon img {
            width: 24px;
            height: 24px;
        }

        #hr1 {
            border: white 3px solid;
        }
        #hr2 {
            border: white 2px solid;
        }

        #rank1-wrapper {
            display: flex;
            flex-direction: row;
            width: 80%;
            margin: 50px 10% 50px 10%;
            justify-content: center;
            /* border: 2px solid red; */
        }

        #rank1-img{
            min-width: 300px;
        }

        #rank1-info-wrapper {
            margin-left: 50px;
        }

        #rank1-info-top {
            display:flex;
            padding-bottom: 30px;
            border-bottom: 1px solid gray;
        }
        #rank1-rank {
            margin-right: 30px;
            font-size: 80px;
            text-align: center;
            font-weight: bolder;
        }
        #rank1-track {
                margin-top: 22px;
            }

        #rank1-chartinfo {
            margin-top: 50px;
            min-width: 100%;
            display:flex;
            justify-content: center;
        }

        .rank1-chartinfo-item {
            align-items: center;
            padding: 0 30px;
        }

        .rank1-info-label {
            font-size: 15px;
            font-weight: bold;
            text-align: center;
        }
        .rank1-info-value {
            font-size: 30px;
            font-weight: bolder;
            text-align: center;
        }

        #rank1-title {
            font-size: 30px;
            font-weight: bolder;
        }

        #rank1-artist {
            font-size: 20px;
            font-weight:normal;
        }

        #chart-table-wrapper {
            margin: 80px 0;
            width: 100%;
        }

        #chart-table {
            width: 100%;
        }

        td {
            padding: 5px;
            color: white;
            text-align: center;
            vertical-align: middle;
        }

        #chart-legend td{
            height: 80px;
            font-size: 18px;
            background-color: blue;
            font-weight: bolder;
        }

        #chart-legend #legend-rank {
            width: 10%;
        }
        #chart-legend #legend-fluct {
            width: 5%;
        }
        #chart-legend #legend-lastweek {
            width: 8%;
        }
        #chart-legend #legend-peakpos {
            width: 8%;
        }
        #chart-legend #legend-weeksonchart {
            width: 8%;
        }

        .chart-content td{
            height: 100px;
            background-color: rgb(54, 54, 54);
            color: white;
            font-size: 20px;
            font-weight: bolder;
            text-align: center;
            border-bottom: 1px solid lightgray;
        }
        .chart-content .content-rank{
            font-size: 30px;
            background: white;
            color: black;
            font-weight: bolder;
        }
        .chart-content .content-fluct{
            font-size: 30px;
            background: black;
            color: white;
            font-weight: bolder;
        }
        .chart-content .content-track{
            background: black;
        }
        .chart-content .content-track .content-title{
            text-align: left;
            font-size: 25px;
        }
        .chart-content .content-track .content-artist{
            text-align: left;
            font-size: 18px;
            font-weight: normal;
        }
        .chart-content .content-peakpos{
            background: black;
        }

        @media (max-width:1000px) {
            #rank1-wrapper {
                display: flex;
                flex-direction: column;
                align-items: center;
                width: 80%;
                margin: 50px 10% 50px 10%;
                /* border: 2px solid red; */
            }
            #rank1-img {
                flex: 1;
                width: 300px;
                height: 300px;
            }
            #rank1-info-wrapper {
                flex: 1;
                margin-left: 0;
                margin-top: 30px;
            }
            #rank1-rank {
                display: block;
                width: auto;
            }
            #rank1-track {
                margin-left: 30px;
            }
        }
    </style>
{% endblock %}

{% block startscript %}
{% endblock %}

{% block endscript %}

{% endblock %}

{% block content %}

<div id="wrapper">
    <div id="top-wrapper">
        <div id="top-label">Billboard Hot 50™</div>
        <div id="hr1"></div>
        <div id="date-container">
            <div id="date-label">{{date}}</div>
            <!-- <input type="date" id="date-input" min="1963-01-01" value="{{ inputdate }}"> -->
        </div>
        <div id="hr2"></div>
    </div>
    <div id="rank1-wrapper">
        <img id="rank1-img" src="{{rank1.image}}">
        <div id="rank1-info-wrapper">
            <div id="rank1-info-top">
                <div id="rank1-rank">{{rank1.rank}}</div>
                <div id="rank1-track">
                    <div id="rank1-title">{{rank1.title}}</div>
                    <div id="rank1-artist">{{rank1.artist}}</div>
                </div>
            </div>
            <div id="rank1-chartinfo">
                <div class="rank1-chartinfo-item" style="border-right: 1px solid gray">
                    <div class="rank1-info-label">LAST WEEK</div>
                    <div class="rank1-info-value">{{rank1.lastPos}}</div>
                </div>
                <div class="rank1-chartinfo-item">
                    <div class="rank1-info-label">WEEKS ON CHART</div>
                    <div class="rank1-info-value">{{rank1.weeks}}</div>
                </div>
            </div>
        </div>
    </div>

    <div id="hr2"></div>

    <div id="chart-table-wrapper">
        <table id="chart-table">
            <tr id="chart-legend">
                <td id="legend-rank">RANK</td>
                <td id="legend-fluct"></td>
                <td id="legend-track"></td>
                <td id="legend-lastweek">LAST WEEK</td>
                <td id="legend-peakpos">PEAK POS.</td>
                <td id="legend-weeksonchart">WEEKS ON CHART</td>
            </tr>
            {% for c in chart %}
            <tr class="chart-content">
                {% if c.rank == 1 %}
                    <td class="content-rank" style="background-color: gold;">{{c.rank}}</td>
                {% elif c.rank == 2 %}
                    <td class="content-rank" style="background-color: silver;">{{c.rank}}</td>
                {% elif c.rank == 3 %}
                    <td class="content-rank" style="background-color: sienna;">{{c.rank}}</td>
                {% elif c.rank <= 10 %}
                    <td class="content-rank" style="background-color: pink;">{{c.rank}}</td>
                {% else %}
                    <td class="content-rank">{{c.rank}}</td>
                {% endif %}
                <td class="content-fluct">
                    {% if c.rank < c.lastPos %}
                        <div style="color:green">▲</div>
                    {% elif c.rank > c.lastPos %}
                        <div style="color:red">▼</div>
                    {% else %}
                        <div>▶</div>
                    {% endif %}
                </td>
                <td class="content-track">
                    <div class="content-title">{{c.title}}</div>
                    <div class="content-artist">{{c.artist}}</div>
                </td>
                <td class="content-lastweek">{{c.lastPos}}</td>
                <td class="content-peakpos">{{c.peakPos}}</td>
                <td class="content-weeksonchart">{{c.weeks}}</td>
            </tr>
            {% endfor %}
        </table>
    </div>
</div>

{% endblock %}

